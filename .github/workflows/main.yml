name: Deploy HTML

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: 코드 가져오기
      uses: actions/checkout@v3

    - name: EC2에 HTML 파일 복사하기
      run: |
        echo "${{ secrets.EC2_SSH_KEY }}" > key.pem
        chmod 600 key.pem
        # 예: 정적 html 파일이 루트에 있다면 ./* 대신 복사할 경로 지정
        scp -i key.pem -o StrictHostKeyChecking=no -r ./public/* ubuntu@${{ secrets.EC2_HOST }}:/var/www/html
        rm -f key.pem


